
from unittest import TestCase
import os

from badimsicore_sniffing_gsmband_search import *


class TestRadioBandSearcher(TestCase):

    def setUp(self):
        self.exec_path = os.path.dirname(__file__)
        capture = os.path.join(self.exec_path, 'resources/clean/all_gsm_channels_arfcn.csv')
        self.arfcn_csv = os.path.abspath(capture)

        self.orange_gsm_900 = [935200000.0, 935400000.0, 935600000.0, 935800000.0, 936000000.0, 936200000.0, 936400000.0, 936600000.0, 936800000.0, 937000000.0, 937200000.0, 937400000.0, 937600000.0, 937800000.0, 938000000.0, 938200000.0, 938400000.0, 938600000.0, 938800000.0, 939000000.0, 939200000.0, 939400000.0, 939600000.0, 939800000.0, 940000000.0, 940200000.0, 940400000.0, 940600000.0, 940800000.0, 941000000.0, 941200000.0, 941400000.0, 941600000.0, 941800000.0, 942000000.0, 942200000.0, 942400000.0, 942600000.0, 942800000.0, 943000000.0, 943200000.0, 943400000.0, 943600000.0, 943800000.0, 944000000.0, 944200000.0, 944400000.0, 944600000.0, 944800000.0, 945000000.0, 945200000.0, 945400000.0, 945600000.0, 945800000.0, 946000000.0, 946200000.0, 946400000.0, 946600000.0, 946800000.0, 947000000.0, 947200000.0, 947400000.0]
        self.sfr_gsm_900 = [947600000.0, 947800000.0, 948000000.0, 948200000.0, 948400000.0, 948600000.0, 948800000.0, 949000000.0, 949200000.0, 949400000.0, 949600000.0, 949800000.0, 950000000.0, 950200000.0, 950400000.0, 950600000.0, 950800000.0, 951000000.0, 951200000.0, 951400000.0, 951600000.0, 951800000.0, 952000000.0, 952200000.0, 952400000.0, 952600000.0, 952800000.0, 953000000.0, 953200000.0, 953400000.0, 953600000.0, 953800000.0, 954000000.0, 954200000.0, 954400000.0, 954600000.0, 954800000.0, 955000000.0, 955200000.0, 955400000.0, 955600000.0, 955800000.0, 956000000.0, 956200000.0, 956400000.0, 956600000.0, 956800000.0, 957000000.0, 957200000.0, 957400000.0, 957600000.0, 957800000.0, 958000000.0, 958200000.0, 958400000.0, 958600000.0, 958800000.0, 959000000.0, 959200000.0, 959400000.0, 959600000.0, 959800000.0]
        self.bouygues_egsm_900 = [925200000.0, 925400000.0, 925600000.0, 925800000.0, 926000000.0, 926200000.0, 926400000.0, 926600000.0, 926800000.0, 927000000.0, 927200000.0, 927400000.0, 927600000.0, 927800000.0, 928000000.0, 928200000.0, 928400000.0, 928600000.0, 928800000.0, 929000000.0, 929200000.0, 929400000.0, 929600000.0, 929800000.0, 930000000.0, 930200000.0, 930400000.0, 930600000.0, 930800000.0, 931000000.0, 931200000.0, 931400000.0, 931600000.0, 931800000.0, 932000000.0, 932200000.0, 932400000.0, 932600000.0, 932800000.0, 933000000.0, 933200000.0, 933400000.0, 933600000.0, 933800000.0, 934000000.0, 934200000.0, 934400000.0, 934600000.0, 934800000.0]


    def test_get_radio_band_by_network_operator_orange(self):
        rbs = RadioBandSearcher(self.arfcn_csv)
        self.assertEquals(rbs.get_arfcn("orange", "GSM-900"), self.orange_gsm_900)

    def test_get_radio_band_by_network_operator_sfr(self):
        rbs = RadioBandSearcher(self.arfcn_csv)
        self.assertEquals(rbs.get_arfcn("sfr", "GSM-900"), self.sfr_gsm_900)

    def test_get_radio_band_by_network_operator_bouy(self):
        rbs = RadioBandSearcher(self.arfcn_csv)
        self.assertEquals(rbs.get_arfcn("bouygues_telecom", "EGSM-900"), self.bouygues_egsm_900)

    def test_get_radio_band_by_network_operator_bouy_none(self):
        rbs = RadioBandSearcher(self.arfcn_csv)
        self.assertEquals(rbs.get_arfcn("bouygues_telecom", "GSM-900"), [])
